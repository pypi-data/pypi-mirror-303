{"version":3,"file":"Login-BgzwvIHW.js","sources":["../../../core/dist/src/Login.svelte"],"sourcesContent":["<script>import Form from \"@gradio/form\";\nimport { BaseTextbox as Textbox } from \"@gradio/textbox\";\nimport { BaseButton } from \"@gradio/button\";\nimport Column from \"@gradio/column\";\nimport { Block } from \"@gradio/atoms\";\nimport { _ } from \"svelte-i18n\";\nexport let root;\nexport let auth_message;\nexport let app_mode;\nexport let space_id;\nlet username = \"\";\nlet password = \"\";\nlet incorrect_credentials = false;\nconst submit = async () => {\n  const formData = new FormData();\n  formData.append(\"username\", username);\n  formData.append(\"password\", password);\n  let response = await fetch(root + \"/login\", {\n    method: \"POST\",\n    body: formData\n  });\n  if (response.status === 400) {\n    incorrect_credentials = true;\n    username = \"\";\n    password = \"\";\n  } else if (response.status == 200) {\n    location.reload();\n  }\n};\n</script>\n\n<div class=\"wrap\" class:min-h-screen={app_mode}>\n\t<Column variant=\"panel\" min_width={480}>\n\t\t<h2>{$_(\"login.login\")}</h2>\n\t\t{#if auth_message}\n\t\t\t<p class=\"auth\">{@html auth_message}</p>\n\t\t{/if}\n\t\t{#if space_id}\n\t\t\t<p class=\"auth\">\n\t\t\t\t{$_(\"login.enable_cookies\")}\n\t\t\t</p>\n\t\t{/if}\n\t\t{#if incorrect_credentials}\n\t\t\t<p class=\"creds\">{$_(\"login.incorrect_credentials\")}</p>\n\t\t{/if}\n\t\t<Form>\n\t\t\t<Block>\n\t\t\t\t<Textbox\n\t\t\t\t\t{root}\n\t\t\t\t\tlabel=\"username\"\n\t\t\t\t\tlines={1}\n\t\t\t\t\tshow_label={true}\n\t\t\t\t\tmax_lines={1}\n\t\t\t\t\ton:submit={submit}\n\t\t\t\t\tbind:value={username}\n\t\t\t\t/>\n\t\t\t</Block>\n\n\t\t\t<Block>\n\t\t\t\t<Textbox\n\t\t\t\t\t{root}\n\t\t\t\t\tlabel=\"password\"\n\t\t\t\t\tlines={1}\n\t\t\t\t\tshow_label={true}\n\t\t\t\t\tmax_lines={1}\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\ton:submit={submit}\n\t\t\t\t\tbind:value={password}\n\t\t\t\t/>\n\t\t\t</Block>\n\t\t</Form>\n\n\t\t<BaseButton size=\"lg\" variant=\"primary\" on:click={submit}\n\t\t\t>{$_(\"login.login\")}</BaseButton\n\t\t>\n\t</Column>\n</div>\n\n<style>\n\t.wrap {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tmargin-top: var(--size-3);\n\t\tbackground: var(--background-fill-primary);\n\t\twidth: var(--size-full);\n\t}\n\n\th2 {\n\t\tmargin-bottom: var(--size-3);\n\t\tcolor: var(--body-text-color);\n\t\tfont-weight: var(--section-header-text-weight);\n\t\tfont-size: var(--text-xl);\n\t}\n\n\t.auth {\n\t\tmargin-top: var(--size-1);\n\t\tmargin-bottom: var(--size-1);\n\t\tcolor: var(--body-text-color);\n\t}\n\n\t.creds {\n\t\tmargin-top: var(--size-4);\n\t\tmargin-bottom: var(--size-4);\n\t\tcolor: var(--error-text-color);\n\t\tfont-weight: var(--weight-semibold);\n\t}\n</style>\n"],"names":["insert","target","p","anchor","ctx","t_value","dirty","set_data","t","t0_value","create_if_block_2","create_if_block_1","create_if_block","h2","current","t0","div","root","$$props","auth_message","app_mode","space_id","username","password","incorrect_credentials","submit","formData","response","$$invalidate","value"],"mappings":"6wBAmCGA,EAAuCC,EAAAC,EAAAC,CAAA,cAAhBC,EAAY,CAAA,4BAAZA,EAAY,CAAA,uCAIjCC,EAAAD,KAAG,sBAAsB,EAAA,2EAD3BJ,EAEGC,EAAAC,EAAAC,CAAA,iBADDG,EAAA,KAAAD,KAAAA,EAAAD,KAAG,sBAAsB,EAAA,KAAAG,EAAAC,EAAAH,CAAA,sCAITA,EAAAD,KAAG,6BAA6B,EAAA,4EAAlDJ,EAAuDC,EAAAC,EAAAC,CAAA,iBAArCG,EAAA,KAAAD,KAAAA,EAAAD,KAAG,6BAA6B,EAAA,KAAAG,EAAAC,EAAAH,CAAA,wGAOzC,aACK,aACD,UAECD,EAAQ,CAAA,IAAA,iBAARA,EAAQ,CAAA,gEADTA,EAAM,CAAA,CAAA,4GACLA,EAAQ,CAAA,gMAQb,aACK,aACD,0BAGCA,EAAQ,CAAA,IAAA,iBAARA,EAAQ,CAAA,gEADTA,EAAM,CAAA,CAAA,4GACLA,EAAQ,CAAA,8lBAMpB,IAAAC,EAAAD,KAAG,aAAa,EAAA,gDAAhBE,EAAA,KAAAD,KAAAA,EAAAD,KAAG,aAAa,EAAA,KAAAG,EAAA,EAAAF,CAAA,uCAxCdI,EAAAL,KAAG,aAAa,EAAA,uBAChBA,EAAY,CAAA,GAAAM,EAAAN,CAAA,IAGZA,EAAQ,CAAA,GAAAO,EAAAP,CAAA,IAKRA,EAAqB,CAAA,GAAAQ,EAAAR,CAAA,qKA8BwBA,EAAM,CAAA,CAAA,yJAvCxDJ,EAA2BC,EAAAY,EAAAV,CAAA,0HAAtB,CAAAW,GAAAR,EAAA,MAAAG,KAAAA,EAAAL,KAAG,aAAa,EAAA,KAAAG,EAAAQ,EAAAN,CAAA,EAChBL,EAAY,CAAA,mEAGZA,EAAQ,CAAA,mEAKRA,EAAqB,CAAA,6bAVQ,qIADEA,EAAQ,CAAA,CAAA,UAA9CJ,EA6CKC,EAAAe,EAAAb,CAAA,oHA7CiCC,EAAQ,CAAA,CAAA,wIAzBnC,KAAAa,CAAI,EAAAC,GACJ,aAAAC,CAAY,EAAAD,GACZ,SAAAE,CAAQ,EAAAF,GACR,SAAAG,CAAQ,EAAAH,EACfI,EAAW,GACXC,EAAW,GACXC,EAAwB,SACtBC,EAAM,SAAA,CACJ,MAAAC,MAAe,SACrBA,EAAS,OAAO,WAAYJ,CAAQ,EACpCI,EAAS,OAAO,WAAYH,CAAQ,EAChC,IAAAI,EAAiB,MAAA,MAAMV,EAAO,SAChC,CAAA,OAAQ,OACR,KAAMS,CAAA,CAAA,EAEJC,EAAS,SAAW,KACtBC,EAAA,EAAAJ,EAAwB,EAAI,EAC5BI,EAAA,EAAAN,EAAW,EAAE,EACbM,EAAA,EAAAL,EAAW,EAAE,GACJI,EAAS,QAAU,KAC5B,SAAS,OAAM,iBA4BFL,EAAQO,uBAaRN,EAAQM"}