import{kg as t,kJ as e,kK as r,kL as n,kM as s,kN as i,hh as o,hs as a,kO as u,kd as h,fM as c,hm as d,hr as f,hb as l,ho as _,kP as b,hA as p,kQ as v,kR as g,kb as j,kS as m,kT as y,kU as w,kV as C,kW as E,ke as A,kX as N,hq as k}from"./index-B0HXCvCK.js";import{z as L,A as D,B as O,C as F,D as M,E as P,F as S,G as x,H as I,I as U}from"./mermaid-BzztRNFW.js";import{b as B,a as G}from"./_baseEach-CLybl-ZG.js";import{b as R}from"./transform-Bl1u8btX.js";function V(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function W(t,e,r,n){for(var s=t.length,i=r+-1;++i<s;)if(e(t[i],i,t))return i;return-1}function z(t){return t!=t}function q(t,e){return!!(null==t?0:t.length)&&function(t,e,r){return e==e?function(t,e,r){for(var n=r-1,s=t.length;++n<s;)if(t[n]===e)return n;return-1}(t,e,r):W(t,z,r)}(t,e,0)>-1}var H=Object.getOwnPropertySymbols?function(t){for(var r=[];t;)n(r,e(t)),t=O(t);return r}:r;function J(t){return s(t,D,H)}var K=Object.prototype.hasOwnProperty;var Q=/\w*$/;var T=i?i.prototype:void 0,X=T?T.valueOf:void 0;function $(t,e,r){var n,s,i,o=t.constructor;switch(e){case"[object ArrayBuffer]":return F(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function(t,e){var r=e?F(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return M(t,r);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return(i=new(s=t).constructor(s.source,Q.exec(s))).lastIndex=s.lastIndex,i;case"[object Symbol]":return n=t,X?Object(X.call(n)):{}}}var Y=u&&u.isMap,Z=Y?h(Y):function(t){return o(t)&&"[object Map]"==a(t)};var tt=u&&u.isSet,et=tt?h(tt):function(t){return o(t)&&"[object Set]"==a(t)},rt="[object Arguments]",nt="[object Function]",st="[object Object]",it={};function ot(r,n,s,i,o,u){var h,p=1&n,v=2&n,g=4&n;if(void 0!==h)return h;if(!c(r))return r;var j=_(r);if(j){if(h=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&K.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(r),!p)return P(r,h)}else{var m=a(r),y=m==nt||"[object GeneratorFunction]"==m;if(d(r))return S(r,p);if(m==st||m==rt||y&&!o){if(h=v||y?{}:x(r),!p)return v?function(t,e){return L(t,H(t),e)}(r,function(t,e){return t&&L(e,D(e),t)}(h,r)):function(t,r){return L(t,e(t),r)}(r,function(e,r){return e&&L(r,t(r),e)}(h,r))}else{if(!it[m])return o?r:{};h=$(r,m,p)}}u||(u=new f);var w=u.get(r);if(w)return w;u.set(r,h),et(r)?r.forEach((function(t){h.add(ot(t,n,s,t,r,u))})):Z(r)&&r.forEach((function(t,e){h.set(e,ot(t,n,s,e,r,u))}));var C=j?void 0:(g?v?J:b:v?D:t)(r);return V(C||r,(function(t,e){C&&(t=r[e=t]),l(h,e,ot(t,n,s,e,r,u))})),h}function at(t){return"function"==typeof t?t:p}function ut(t,e){return(_(t)?V:B)(t,at(e))}function ht(t,e){var r=[];return B(t,(function(t,n,s){e(t,n,s)&&r.push(t)})),r}function ct(t,e){return(_(t)?v:ht)(t,G(e))}it[rt]=it["[object Array]"]=it["[object ArrayBuffer]"]=it["[object DataView]"]=it["[object Boolean]"]=it["[object Date]"]=it["[object Float32Array]"]=it["[object Float64Array]"]=it["[object Int8Array]"]=it["[object Int16Array]"]=it["[object Int32Array]"]=it["[object Map]"]=it["[object Number]"]=it[st]=it["[object RegExp]"]=it["[object Set]"]=it["[object String]"]=it["[object Symbol]"]=it["[object Uint8Array]"]=it["[object Uint8ClampedArray]"]=it["[object Uint16Array]"]=it["[object Uint32Array]"]=!0,it["[object Error]"]=it[nt]=it["[object WeakMap]"]=!1;var dt=Object.prototype.hasOwnProperty;function ft(t,e){return null!=t&&dt.call(t,e)}function lt(t,e){return null!=t&&g(t,e,ft)}function _t(e){return null==e?[]:function(t,e){return j(e,(function(e){return t[e]}))}(e,t(e))}function bt(t){return void 0===t}function pt(t,e,r,n,s){return s(t,(function(t,s,i){r=n?(n=!1,t):e(r,t,s,i)})),r}function vt(t,e,r){var n=_(t)?m:pt,s=arguments.length<3;return n(t,G(e),r,s,B)}var gt=y&&1/w(new y([,-0]))[1]==1/0?function(t){return new y(t)}:function(){};var jt=R((function(t){return function(t,e,r){var n=-1,s=q,i=t.length,o=!0,a=[],u=a;if(i>=200){var h=gt(t);if(h)return w(h);o=!1,s=E,u=new C}else u=a;t:for(;++n<i;){var c=t[n],d=c;if(c=0!==c?c:0,o&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue t;a.push(c)}else s(u,d,r)||(u!==a&&u.push(d),a.push(c))}return a}(A(t,1,I,!0))})),mt="\0";class yt{constructor(t={}){this._isDirected=!lt(t,"directed")||t.directed,this._isMultigraph=!!lt(t,"multigraph")&&t.multigraph,this._isCompound=!!lt(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=N(void 0),this._defaultEdgeLabelFn=N(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[mt]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return k(t)||(t=N(t)),this._defaultNodeLabelFn=t,this}nodeCount(){return this._nodeCount}nodes(){return t(this._nodes)}sources(){var t=this;return ct(this.nodes(),(function(e){return U(t._in[e])}))}sinks(){var t=this;return ct(this.nodes(),(function(e){return U(t._out[e])}))}setNodes(t,e){var r=arguments,n=this;return ut(t,(function(t){r.length>1?n.setNode(t,e):n.setNode(t)})),this}setNode(t,e){return lt(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=mt,this._children[t]={},this._children[mt][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)}node(t){return this._nodes[t]}hasNode(t){return lt(this._nodes,t)}removeNode(e){var r=this;if(lt(this._nodes,e)){var n=function(t){r.removeEdge(r._edgeObjs[t])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],ut(this.children(e),(function(t){r.setParent(t)})),delete this._children[e]),ut(t(this._in[e]),n),delete this._in[e],delete this._preds[e],ut(t(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(bt(e))e=mt;else{for(var r=e+="";!bt(r);r=this.parent(r))if(r===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var e=this._parent[t];if(e!==mt)return e}}children(e){if(bt(e)&&(e=mt),this._isCompound){var r=this._children[e];if(r)return t(r)}else{if(e===mt)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var r=this._preds[e];if(r)return t(r)}successors(e){var r=this._sucs[e];if(r)return t(r)}neighbors(t){var e=this.predecessors(t);if(e)return jt(e,this.successors(t))}isLeaf(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length}filterNodes(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var r=this;ut(this._nodes,(function(r,n){t(n)&&e.setNode(n,r)})),ut(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,r.edge(t))}));var n={};function s(t){var i=r.parent(t);return void 0===i||e.hasNode(i)?(n[t]=i,i):i in n?n[i]:s(i)}return this._isCompound&&ut(e.nodes(),(function(t){e.setParent(t,s(t))})),e}setDefaultEdgeLabel(t){return k(t)||(t=N(t)),this._defaultEdgeLabelFn=t,this}edgeCount(){return this._edgeCount}edges(){return _t(this._edgeObjs)}setPath(t,e){var r=this,n=arguments;return vt(t,(function(t,s){return n.length>1?r.setEdge(t,s,e):r.setEdge(t,s),s})),this}setEdge(){var t,e,r,n,s=!1,i=arguments[0];"object"==typeof i&&null!==i&&"v"in i?(t=i.v,e=i.w,r=i.name,2===arguments.length&&(n=arguments[1],s=!0)):(t=i,e=arguments[1],r=arguments[3],arguments.length>2&&(n=arguments[2],s=!0)),t=""+t,e=""+e,bt(r)||(r=""+r);var o=Et(this._isDirected,t,e,r);if(lt(this._edgeLabels,o))return s&&(this._edgeLabels[o]=n),this;if(!bt(r)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[o]=s?n:this._defaultEdgeLabelFn(t,e,r);var a=function(t,e,r,n){var s=""+e,i=""+r;if(!t&&s>i){var o=s;s=i,i=o}var a={v:s,w:i};n&&(a.name=n);return a}(this._isDirected,t,e,r);return t=a.v,e=a.w,Object.freeze(a),this._edgeObjs[o]=a,wt(this._preds[e],t),wt(this._sucs[t],e),this._in[e][o]=a,this._out[t][o]=a,this._edgeCount++,this}edge(t,e,r){var n=1===arguments.length?At(this._isDirected,arguments[0]):Et(this._isDirected,t,e,r);return this._edgeLabels[n]}hasEdge(t,e,r){var n=1===arguments.length?At(this._isDirected,arguments[0]):Et(this._isDirected,t,e,r);return lt(this._edgeLabels,n)}removeEdge(t,e,r){var n=1===arguments.length?At(this._isDirected,arguments[0]):Et(this._isDirected,t,e,r),s=this._edgeObjs[n];return s&&(t=s.v,e=s.w,delete this._edgeLabels[n],delete this._edgeObjs[n],Ct(this._preds[e],t),Ct(this._sucs[t],e),delete this._in[e][n],delete this._out[t][n],this._edgeCount--),this}inEdges(t,e){var r=this._in[t];if(r){var n=_t(r);return e?ct(n,(function(t){return t.v===e})):n}}outEdges(t,e){var r=this._out[t];if(r){var n=_t(r);return e?ct(n,(function(t){return t.w===e})):n}}nodeEdges(t,e){var r=this.inEdges(t,e);if(r)return r.concat(this.outEdges(t,e))}}function wt(t,e){t[e]?t[e]++:t[e]=1}function Ct(t,e){--t[e]||delete t[e]}function Et(t,e,r,n){var s=""+e,i=""+r;if(!t&&s>i){var o=s;s=i,i=o}return s+""+i+""+(bt(n)?"\0":n)}function At(t,e){return Et(t,e.v,e.w,e.name)}yt.prototype._nodeCount=0,yt.prototype._edgeCount=0;export{yt as G,W as a,ot as b,at as c,ct as d,ut as f,lt as h,bt as i,vt as r,_t as v};
