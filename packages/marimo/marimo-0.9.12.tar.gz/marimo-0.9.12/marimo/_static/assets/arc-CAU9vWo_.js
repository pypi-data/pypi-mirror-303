import{w as n,c as t}from"./path-qnb_ma6O.js";import{u as r,v as c,w as e,x as a,y as u,t as i,r as o,z as y,A as l,B as f,C as s,D as p,E as x}from"./step-CPXY0cSE.js";function h(n){return n.innerRadius}function v(n){return n.outerRadius}function g(n){return n.startAngle}function d(n){return n.endAngle}function m(n){return n&&n.padAngle}function T(n,t,r,c,e,a,u){var i=n-r,y=t-c,l=(u?a:-a)/o(i*i+y*y),f=l*y,s=-l*i,p=n+f,h=t+s,v=r+f,g=c+s,d=(p+v)/2,m=(h+g)/2,T=v-p,A=g-h,R=T*T+A*A,j=e-a,w=p*g-v*h,z=(A<0?-1:1)*o(x(0,j*j*R-w*w)),B=(w*A-T*z)/R,C=(-w*T-A*z)/R,D=(w*A+T*z)/R,E=(-w*T+A*z)/R,P=B-d,b=C-m,k=D-d,q=E-m;return P*P+b*b>k*k+q*q&&(B=D,C=E),{cx:B,cy:C,x01:-f,y01:-s,x11:B*(e/j-1),y11:C*(e/j-1)}}function A(){var x=h,A=v,R=t(0),j=null,w=g,z=d,B=m,C=null,D=n(E);function E(){var n,t,h=+x.apply(this,arguments),v=+A.apply(this,arguments),g=w.apply(this,arguments)-a,d=z.apply(this,arguments)-a,m=l(d-g),E=d>g;if(C||(C=n=D()),v<h&&(t=v,v=h,h=t),v>u)if(m>i-u)C.moveTo(v*c(g),v*e(g)),C.arc(0,0,v,g,d,!E),h>u&&(C.moveTo(h*c(d),h*e(d)),C.arc(0,0,h,d,g,E));else{var P,b,k=g,q=d,F=g,G=d,H=m,I=m,J=B.apply(this,arguments)/2,K=J>u&&(j?+j.apply(this,arguments):o(h*h+v*v)),L=y(l(v-h)/2,+R.apply(this,arguments)),M=L,N=L;if(K>u){var O=s(K/h*e(J)),Q=s(K/v*e(J));(H-=2*O)>u?(F+=O*=E?1:-1,G-=O):(H=0,F=G=(g+d)/2),(I-=2*Q)>u?(k+=Q*=E?1:-1,q-=Q):(I=0,k=q=(g+d)/2)}var S=v*c(k),U=v*e(k),V=h*c(G),W=h*e(G);if(L>u){var X,Y=v*c(q),Z=v*e(q),$=h*c(F),_=h*e(F);if(m<r)if(X=function(n,t,r,c,e,a,i,o){var y=r-n,l=c-t,f=i-e,s=o-a,p=s*y-f*l;if(!(p*p<u))return[n+(p=(f*(t-a)-s*(n-e))/p)*y,t+p*l]}(S,U,$,_,Y,Z,V,W)){var nn=S-X[0],tn=U-X[1],rn=Y-X[0],cn=Z-X[1],en=1/e(p((nn*rn+tn*cn)/(o(nn*nn+tn*tn)*o(rn*rn+cn*cn)))/2),an=o(X[0]*X[0]+X[1]*X[1]);M=y(L,(h-an)/(en-1)),N=y(L,(v-an)/(en+1))}else M=N=0}I>u?N>u?(P=T($,_,S,U,v,N,E),b=T(Y,Z,V,W,v,N,E),C.moveTo(P.cx+P.x01,P.cy+P.y01),N<L?C.arc(P.cx,P.cy,N,f(P.y01,P.x01),f(b.y01,b.x01),!E):(C.arc(P.cx,P.cy,N,f(P.y01,P.x01),f(P.y11,P.x11),!E),C.arc(0,0,v,f(P.cy+P.y11,P.cx+P.x11),f(b.cy+b.y11,b.cx+b.x11),!E),C.arc(b.cx,b.cy,N,f(b.y11,b.x11),f(b.y01,b.x01),!E))):(C.moveTo(S,U),C.arc(0,0,v,k,q,!E)):C.moveTo(S,U),h>u&&H>u?M>u?(P=T(V,W,Y,Z,h,-M,E),b=T(S,U,$,_,h,-M,E),C.lineTo(P.cx+P.x01,P.cy+P.y01),M<L?C.arc(P.cx,P.cy,M,f(P.y01,P.x01),f(b.y01,b.x01),!E):(C.arc(P.cx,P.cy,M,f(P.y01,P.x01),f(P.y11,P.x11),!E),C.arc(0,0,h,f(P.cy+P.y11,P.cx+P.x11),f(b.cy+b.y11,b.cx+b.x11),E),C.arc(b.cx,b.cy,M,f(b.y11,b.x11),f(b.y01,b.x01),!E))):C.arc(0,0,h,G,F,E):C.lineTo(V,W)}else C.moveTo(0,0);if(C.closePath(),n)return C=null,n+""||null}return E.centroid=function(){var n=(+x.apply(this,arguments)+ +A.apply(this,arguments))/2,t=(+w.apply(this,arguments)+ +z.apply(this,arguments))/2-r/2;return[c(t)*n,e(t)*n]},E.innerRadius=function(n){return arguments.length?(x="function"==typeof n?n:t(+n),E):x},E.outerRadius=function(n){return arguments.length?(A="function"==typeof n?n:t(+n),E):A},E.cornerRadius=function(n){return arguments.length?(R="function"==typeof n?n:t(+n),E):R},E.padRadius=function(n){return arguments.length?(j=null==n?null:"function"==typeof n?n:t(+n),E):j},E.startAngle=function(n){return arguments.length?(w="function"==typeof n?n:t(+n),E):w},E.endAngle=function(n){return arguments.length?(z="function"==typeof n?n:t(+n),E):z},E.padAngle=function(n){return arguments.length?(B="function"==typeof n?n:t(+n),E):B},E.context=function(n){return arguments.length?(C=null==n?null:n,E):C},E}export{A as a};
