"use strict";(self.webpackChunk_amzn_amazon_sagemaker_jupyter_ai_q_developer=self.webpackChunk_amzn_amazon_sagemaker_jupyter_ai_q_developer||[]).push([[19],{2019:(e,t,a)=>{a.r(t),a.d(t,{default:()=>L,footerPlugin:()=>x,iconPlugin:()=>f,telemetryPlugin:()=>C});var n=a(9844),o=a(1473),i=a(7354),s=a(3345),l=a.n(s),r=a(3860),d=a.n(r),c=a(2395),v=a(9708),m=a(7460);const p="@amzn/amazon_sagemaker_jupyter_ai_q_developer",g=new m.LabIcon({name:`${p}:upvote-icon`,svgstr:'<svg class="jp-icon3" width="32" height="32" viewBox="0 0 36 36" fill="#616161" xmlns="http://www.w3.org/2000/svg">\n  <path\n        clipRule="evenodd"\n        d="M18.522 12.173l-2.486 4.14v5.723h5.44a1 1 0 00.969-.76l1.01-4.049a1 1 0 00-.97-1.24h-2.44a1 1 0 01-1-1v-2.67a.276.276 0 00-.28-.28.293.293 0 00-.243.136zm-4.486 9.863v-5h-1v5h1zm.434-7l2.338-3.895.002-.003a2.293 2.293 0 011.956-1.102 2.276 2.276 0 012.28 2.28v1.67h1.44a3 3 0 012.91 3.719v.003l-1.01 4.048v.001a3 3 0 01-2.91 2.28h-9.44a1 1 0 01-1-1v-7a1 1 0 011-1h2.434z"\n        fillRule="evenodd"\n      />\n</svg>'}),u=new m.LabIcon({name:`${p}:downvote-icon`,svgstr:'<svg class="jp-icon3" transform="scale(-1,-1)" width="32" height="32" viewBox="0 0 36 36" fill="#616161" xmlns="http://www.w3.org/2000/svg">\n  <path\n        clipRule="evenodd"\n        d="M18.522 12.173l-2.486 4.14v5.723h5.44a1 1 0 00.969-.76l1.01-4.049a1 1 0 00-.97-1.24h-2.44a1 1 0 01-1-1v-2.67a.276.276 0 00-.28-.28.293.293 0 00-.243.136zm-4.486 9.863v-5h-1v5h1zm.434-7l2.338-3.895.002-.003a2.293 2.293 0 011.956-1.102 2.276 2.276 0 012.28 2.28v1.67h1.44a3 3 0 012.91 3.719v.003l-1.01 4.048v.001a3 3 0 01-2.91 2.28h-9.44a1 1 0 01-1-1v-7a1 1 0 011-1h2.434z"\n        fillRule="evenodd"\n      />\n</svg>'});var h;!function(e){e.Upvote="upvote",e.Downvote="downvote"}(h||(h={}));const w=({message:e})=>{const t=(0,n.useTelemetry)(),[a,o]=l().useState({submitted:!1,likeDisabled:!1,dislikeDisabled:!1}),i=n=>{a.submitted||(t.onEvent(((e,t)=>({type:e,message:{id:t.id,type:t.type,time:t.time,metadata:"metadata"in t?t.metadata:{}}}))(n,e)),o(d()((e=>{e.submitted=!0,n===h.Upvote?e.dislikeDisabled=!0:e.likeDisabled=!0}))))};return l().createElement(c.A,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",padding:"6px 2px",marginBottom:"1em",borderTop:"1px solid var(--jp-cell-editor-border-color)"}},l().createElement(v.A,{sx:{padding:"4px",...a.likeDisabled&&{opacity:.5}},onClick:()=>i(h.Upvote),"data-testid":"upvote-button",disabled:a.likeDisabled,title:a.dislikeDisabled?"Thank you for your feedback":a.likeDisabled?void 0:"Good response"},l().createElement(g.react,{elementPosition:"center",tag:"span"})),l().createElement(v.A,{sx:{padding:"4px",...a.dislikeDisabled&&{opacity:.5}},onClick:()=>i(h.Downvote),"data-testid":"downvote-button",disabled:a.dislikeDisabled,title:a.likeDisabled?"Thank you for your feedback":a.dislikeDisabled?void 0:"Bad response"},l().createElement(u.react,{elementPosition:"center",tag:"span"})))},y=e=>"agent"!==e.message.type&&"agent-stream"!==e.message.type||"agent-stream"===e.message.type&&!e.message.complete||void 0===e.message.metadata.q_conversation_id||void 0===e.message.metadata.q_message_id?null:l().createElement(w,{message:e.message});var b=a(5256);const _=new m.LabIcon({name:"@amzn/amazon_sagemaker_jupyter_ai_q_developer:q-icon-chat",svgstr:'<svg class="jp-icon2" xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20" fill="none">\n<path\n    d="M16.7752 4.26172L10.0877 0.399219C9.78769 0.224219 9.4002 0.136719 9.0002 0.136719C8.6002 0.136719 8.2127 0.224219 7.9127 0.399219L1.2252 4.26172C0.625195 4.59922 0.137695 5.44922 0.137695 6.13672V13.8617C0.137695 14.5492 0.625195 15.3867 1.2252 15.7367L7.9252 19.5992C8.22519 19.7742 8.6127 19.8617 9.0127 19.8617C9.4127 19.8617 9.8002 19.7742 10.1002 19.5992L16.8002 15.7367C17.4002 15.3867 17.8877 14.5492 17.8877 13.8617V6.13672C17.8877 5.44922 17.4002 4.59922 16.8002 4.26172H16.7752ZM9.0002 17.3492L2.6377 13.6742V6.32422L9.0002 2.64922L15.3627 6.32422V12.2242L11.5002 9.99922V9.07422C11.5002 8.74922 11.3252 8.46172 11.0502 8.29922L9.4502 7.37422C9.3127 7.29922 9.1502 7.24922 9.0002 7.24922C8.8502 7.24922 8.6877 7.28672 8.5502 7.37422L6.9502 8.29922C6.6752 8.46172 6.5002 8.76172 6.5002 9.07422V10.9242C6.5002 11.2492 6.6752 11.5367 6.9502 11.6992L8.5502 12.6242C8.6877 12.6992 8.8502 12.7492 9.0002 12.7492C9.1502 12.7492 9.3127 12.7117 9.4502 12.6242L10.2502 12.1617L14.1127 14.3867L9.0002 17.3367V17.3492Z"\n></path>\n</svg>'});class k extends m.ReactWidget{render(){return l().createElement(_.react,null)}}const C={id:`${p}:custom-telemetry`,autoStart:!0,provides:n.IJaiTelemetryHandler,activate:()=>(console.log("JupyterLab extension telemetry plugin is activated"),{onEvent:e=>{!async function(e="",t={}){const a=i.ServerConnection.makeSettings(),n=o.URLExt.join(a.baseUrl,"amazon_sagemaker_jupyter_ai_q_developer",e);let s;try{s=await i.ServerConnection.makeRequest(n,t,a)}catch(e){throw new i.ServerConnection.NetworkError(e)}let l=await s.text();if(l.length>0)try{l=JSON.parse(l)}catch(e){console.log("Not a JSON response body.",s)}if(!s.ok)throw new i.ServerConnection.ResponseError(s,l.message||l)}("/telemetry",{method:"POST",body:JSON.stringify(e)})}})},f={id:`${p}:icon-plugin`,autoStart:!0,requires:[n.IJaiCore],activate:(e,{chatWidget:t})=>{console.log("JupyterLab extension icon plugin is activated"),e.restored.then((()=>{var e;const a=new k;null===(e=null==t?void 0:t.renderPromise)||void 0===e||e.then((()=>{const e=t.node.querySelector(".MuiAvatar-root");e&&(e.replaceChildren(),b.Widget.attach(a,e))}))}))}},x={id:`${p}:custom-footer`,autoStart:!0,provides:n.IJaiMessageFooter,activate:e=>(console.log("JupyterLab extension footer plugin is activated"),{component:y})},L=[C,x,f]}}]);