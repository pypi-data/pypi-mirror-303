"use strict";(self.webpackChunkjupyterlab_quickopen=self.webpackChunkjupyterlab_quickopen||[]).push([[509],{509:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var a=n(200),s=n(473),o=n(456),i=n(354),c=n(614),r=n(313),l=n(678),d=n(167),m=n(602),u=n(256);class p extends u.CommandPalette{constructor(e,t,n){super(n),this._pathSelected=new m.Signal(this),this.id="jupyterlab-quickopen",this.title.iconClass="jp-SideBar-tabIcon jp-SearchIcon",this.title.caption="Quick Open",this._settings=t,this._fileBrowser=e}get pathSelected(){return this._pathSelected}set settings(e){this._settings=e}async onActivateRequest(e){super.onActivateRequest(e);const t=this._settings.relativeSearch?this._fileBrowser.model.path:"",n=await async function(e,t){const n=t.map((e=>"excludes="+encodeURIComponent(e))).join("&"),a=i.ServerConnection.makeSettings(),o=s.URLExt.join(a.baseUrl,"jupyterlab-quickopen","api","files")+"?"+n+"&path="+e,c=await i.ServerConnection.makeRequest(o,{method:"GET"},a);if(200!==c.status)throw new i.ServerConnection.ResponseError(c);return await c.json()}(t,this._settings.excludes);this.clearItems();for(const e in n.contents)for(const t of n.contents[e]){const n=`${e}/${t}`;this.commands.hasCommand(n)||this.commands.addCommand(n,{label:t,execute:()=>{this._pathSelected.emit(n)}}),this.addItem({command:n,category:e})}}}const h={id:"jupyterlab-quickopen:plugin",autoStart:!0,requires:[o.IDocumentManager,c.ISettingRegistry,r.IDefaultFileBrowser],optional:[a.ICommandPalette,l.ITranslator],activate:async(e,t,n,o,i,c)=>{const r=(null!=c?c:l.nullTranslator).load("jupyterlab-quickopen"),m=new d.CommandRegistry,u=await n.load(h.id),g=new p(o,u.composite,{commands:m});g.pathSelected.connect(((e,n)=>{t.openOrReveal(s.PathExt.normalize(n))})),u.changed.connect((e=>{g.settings=e.composite}));const k=new a.ModalCommandPalette({commandPalette:g});k.attach();const w="quickopen:activate";e.commands.addCommand(w,{label:r.__("Quick Open"),execute:()=>{k.activate()}}),i&&i.addItem({command:w,category:"File Operations"})}},g=h}}]);